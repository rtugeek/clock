import{h as _,r as d,o as f,n as p,k as v,l as h,m,p as t,u as x,F as g}from"./index-DvvDUAwq.js";const y={class:"clock-container"},S={class:"clock"},q=t("div",{class:"gear"},null,-1),w=t("div",{class:"gear"},null,-1),k=t("div",{class:"top"},[t("div",{class:"text"}," 00 ")],-1),C=t("div",{class:"bottom"},[t("div",{class:"text"}," 00 ")],-1),R=[q,w,k,C],T=t("div",{class:"gear"},null,-1),B=t("div",{class:"gear"},null,-1),b=t("div",{class:"top"},[t("div",{class:"text"}," 00 ")],-1),L=t("div",{class:"bottom"},[t("div",{class:"text"}," 00 ")],-1),$=[T,B,b,L],A=t("div",{class:"gear"},null,-1),F=t("div",{class:"gear"},null,-1),M=t("div",{class:"top"},[t("div",{class:"text"}," 00 ")],-1),N=t("div",{class:"bottom"},[t("div",{class:"text"}," 00 ")],-1),V=[A,F,M,N],W=_({__name:"FlipClockWidgetView",setup(D){const c=d(),l=d(),i=d();function r(e,s){const n=e.querySelector(".top").cloneNode(!0),o=e.querySelector(".bottom").cloneNode(!0);n.classList.add("new"),o.classList.add("new"),o.querySelector(".text").textContent=s,e.querySelector(".top").after(n),e.querySelector(".top.new").append(o),e.classList.add("flipping"),e.querySelector(".top:not(.new)").querySelector(".text").textContent=s,setTimeout(()=>{e.querySelector(".bottom:not(.new)").querySelector(".text").textContent=s},500)}function u(){for(const a of document.querySelectorAll(".flipper"))a.classList.remove("flipping");for(const a of document.querySelectorAll(".flipper .new"))a.remove();const e=new Date;let s=e.getSeconds().toString();s.length==1&&(s=`0${s}`);let n=e.getMinutes().toString();n.length==1&&(n=`0${n}`);let o=e.getHours();o=o.toString(),o.length==1&&(o=`0${o}`),c.value.querySelector(".top>.text").textContent!==o&&r(c.value,o),l.value.querySelector(".top>.text").textContent!==n&&r(l.value,n),i.value.querySelector(".top>.text").textContent!==s&&r(i.value,s),setTimeout(()=>{u()},500)}return f(async()=>{await p(),u()}),(e,s)=>(v(),h(x(g),null,{default:m(()=>[t("div",y,[t("div",S,[t("div",{ref_key:"hourRef",ref:c,class:"flipper"},R,512),t("div",{ref_key:"minuteRef",ref:l,class:"flipper"},$,512),t("div",{ref_key:"secondRef",ref:i,class:"flipper"},V,512)])])]),_:1}))}});export{W as default};
